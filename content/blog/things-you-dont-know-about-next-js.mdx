---
title: "CÃ³ thá»ƒ báº¡n chÆ°a biáº¿t vá» Next.js (v13+)"
description: á» trong bÃ i viáº¿t nÃ y, mÃ¬nh sáº½ cÃ¹ng tÃ¬m hiá»ƒu vá» má»™t sá»‘ thá»© hay ho mÃ  cÃ³ thá»ƒ báº¡n Ä‘Ã£ bá» lá»¡ trong Next.js (dÄ© nhiÃªn lÃ  tá»« Next.js 13+) nhÃ©. Let's go.
image: https://res.cloudinary.com/daukjyo6s/image/upload/v1706598055/twitter-card_sznp94.png
date: "2024-01-30"
authors:
  - taitd
series:
  order: 1
  title: "Next.js"
---

Cho Ä‘áº¿n thá»i Ä‘iá»ƒm bÃ i viáº¿t nÃ y Ä‘Æ°á»£c publish thÃ¬ version má»›i nháº¥t cá»§a Next.js Ä‘ang lÃ  14.1.0, tuy nhiÃªn nhÃ¬n chung thÃ¬ version 14 chá»‰ lÃ  má»™t báº£n cáº­p nháº­t mang láº¡i sá»± tá»‘i Æ°u cÅ©ng nhÆ° á»•n Ä‘á»‹nh cho version 13 chá»© khÃ´ng cÃ³ nhiá»u khÃ¡i niá»‡m má»›i.

á» trong bÃ i viáº¿t nÃ y, mÃ¬nh sáº½ cÃ¹ng tÃ¬m hiá»ƒu vá» má»™t sá»‘ thá»© hay ho mÃ  cÃ³ thá»ƒ báº¡n Ä‘Ã£ bá» lá»¡ trong Next.js (dÄ© nhiÃªn lÃ  tá»« Next.js 13+) nhÃ©. Let's go.

## 1. Route group

HÃ£y nhÃ¬n vÃ o cÃ¢y thÆ° má»¥c sau:

![](https://miro.medium.com/v2/resize:fit:439/1*sH3RtYmOOApgi_au3cWfMw.png)

Báº¡n cÃ³ tháº¥y cÃ¡c folder Ä‘ang Ä‘Æ°á»£c sáº¯p xáº¿p ráº¥t lá»™n xá»™n ? Next.js sá»­ dá»¥ng file-system base router, tá»©c lÃ  cÃ¡c route Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a dá»±a vÃ o cÃ¡c file vÃ  folder. Sáº¯p xáº¿p folder má»™t cÃ¡ch lá»™n xá»™n khiáº¿n cho viá»‡c tÃ¬m kiáº¿m má»™t route cá»¥ thá»ƒ trá»Ÿ nÃªn khÃ³ khÄƒn hÆ¡n, Ä‘Ã³ lÃ  lÃ½ do mÃ  Route Groups ra Ä‘á»i.
ÄÃºng nhÆ° Ã½ nghÄ©a tÃªn gá»i cá»§a nÃ³, Route Groups giÃºp báº¡n nhÃ³m cÃ¡c route cÃ³ cÃ¹ng chung má»™t logic mÃ  khÃ´ng lÃ m áº£nh hÆ°á»Ÿng Ä‘áº¿n cáº¥u trÃºc Ä‘Æ°á»ng dáº«n URL.

DÆ°á»›i Ä‘Ã¢y lÃ  cÃ¡ch tÃ¡i cáº¥u trÃºc thÆ° má»¥c trÃªn báº±ng cÃ¡ch sá»­ dá»¥ng Route Groups.

![](https://miro.medium.com/v2/resize:fit:385/1*Z_ZV_c6bz2Xf7GCBnyHy1A.png)

Nhá»¯ng route nhÆ° `/forgot-password`, `sign-in`, `sign-up` Ä‘Æ°á»£c nhÃ³m thÃ nh group `(auth)`, cÃ²n láº¡i Ä‘Æ°á»£c nhÃ³m vÃ o group `(dashboard)`, clear hÆ¡n nhiá»u chá»© nhá»‰ ?

Váº§ táº¥t nhiÃªn lÃ  Route Group sáº½ khÃ´ng thÃªm tÃªn thÆ° má»¥c vÃ o URL.

**URL:Â `http:localhost:3000/sign-in`**

![](https://miro.medium.com/v2/resize:fit:700/1*1WMIZOfbDdnna06KG4XKUw.png)

## 2. Static Metadata

Next.js bao gá»“m sáºµn Metadata API giÃºp báº¡n Ä‘á»‹nh nghÄ©a metadata cho á»©ng dá»¥ng (vÃ­ dá»¥ tháº» `meta` vÃ  tháº» `link` bÃªn trong tháº» `head` cá»§a file HTML) Ä‘á»ƒ cáº£i thiá»‡n SEO vÃ  kháº£ nÄƒng chia sáº» á»©ng dá»¥ng.
Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng Metadata API á»Ÿ trong cáº£ `page.tsx` hoáº·c `layout.tsx` nhÆ° tháº¿ nÃ y:

```tsx
import type { Metadata } from "next"

export const metadata: Metadata = {
  title: "TaiTD Blog",
  description: "Blog created by Trá»‹nh ÄÃ¬nh TÃ i",
}
```

## 3. Dynamic Metadata

Trong á»©ng dá»¥ng, cÃ³ nhá»¯ng route sáº½ sá»­ dá»¥ng Metadata Ä‘á»™ng, vÃ­ dá»¥ nhÆ° má»—i bÃ i viáº¿t cá»¥ thá»ƒ hoáº·c lÃ  má»—i má»™t sáº£n pháº©m báº¥t ká»³ trÃªn trang web sáº½ cÃ³ metadata khÃ¡c nhau. Vá» cÆ¡ báº£n cÃ³ thá»ƒ hiá»ƒu lÃ  Dynamic Route thÃ¬ sáº½ cÃ³ Dynamic Metadata.

Trong trÆ°á»ng há»£p nÃ y, chÃºng ta cáº§n sá»­ dá»¥ng hÃ m `generateMetadata` Ä‘á»ƒ `fetch` metadata Ä‘á»™ng cho route, vÃ­ dá»¥ nhÆ° sau:

```tsx
import type { Metadata } from "next"

type Props = {
  params: {
    id: string
  }
}

export const generateMetadata = ({ params }: Props): Metadata => {
  return {
    title: `Product ${params.id}`,
  }
}

export default function FavouriteProductDetails({ params }: Props) {
  return <h1>Favouraite Product Details {params.id}</h1>
}
```

![](https://miro.medium.com/v2/resize:fit:700/1*pkexHOETmHrlpnISi4NYjQ.png)

![](https://miro.medium.com/v2/resize:fit:700/1*F1-MbywRmhfdEiV3ZoEsgA.png)

TiÃªu Ä‘á» cá»§a trang Ä‘Æ°á»£c thay Ä‘á»•i dá»±a vÃ o id sáº£n pháº©m.

## 4. Private Routes (Private Folder)

Private Folder cÃ³ thá»ƒ Ä‘Æ°á»£c táº¡o báº±ng cÃ¡ch thÃªm tiá»n tá»‘ `_` vÃ o thÆ° má»¥c `folderName`.

Khi Ä‘Ã³, há»‡ thá»‘ng Ä‘á»‹nh tuyáº¿n sáº½ coi nhÆ° **thÆ° má»¥c nÃ y vÃ  táº¥t cáº£ cÃ¡c thÆ° má»¥c con cá»§a nÃ³** khÃ´ng tham gia vÃ o routing.

![An example folder structure using private folders](https://nextjs.org/_next/image?url=%2Fdocs%2Fdark%2Fproject-organization-private-folders.png&w=3840&q=75&dpl=dpl_6Qir2sLFUSLWxJxpLbUBoZRU9wXc)

Private folder nÃªn Ä‘Æ°á»£c sá»­ dá»¥ng khi nÃ o ?

- TÃ¡ch UI logic khá»i routing logic.
- Sáº¯p xáº¿p nháº¥t quÃ¡n cÃ¡c tá»‡p ná»™i bá»™ trong toÃ n bá»™ dá»± Ã¡n Next.js
- Sáº¯p xáº¿p vÃ  nhÃ³m cÃ¡c táº­p tin trong code editor.
- TrÃ¡nh xung Ä‘á»™t Ä‘áº·t tÃªn vá»›i cÃ¡c quy Æ°á»›c tá»‡p Next.js trong tÆ°Æ¡ng lai.

## 5. Catch-all Segments

Trong Next.js, "segment" thÆ°á»ng Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ chá»‰ "má»™t pháº§n" hoáº·c lÃ  "má»™t phÃ¢n Ä‘oáº¡n" cá»§a má»™t URL. VÃ­ dá»¥, trong URLÂ `https://example.com/posts/first-post`, cÃ³ thá»ƒ coi "posts" vÃ  "first-post" lÃ  cÃ¡c "segment" cá»§a URL.

Dynamic Segments cÃ³ thá»ƒ Ä‘Æ°á»£c má»Ÿ rá»™ng Ä‘á»ƒ báº¯t táº¥t cáº£ cÃ¡c subsequent segments báº±ng cÃ¡ch thÃªm dáº¥u `...` bÃªn trong `segmentName` nhÆ° sau: `[...segmentName]`

VÃ­ dá»¥: `/docs/[...slug]/page.tsx` sáº½ khá»›p vá»›i `/docs/topic` , nhÆ°ng cÅ©ng khá»›p vá»›i `/docs/topic/10` , hoáº·c lÃ  `/docs/topic/10/section/1`, tuy nhiÃªn khÃ´ng khá»›p vá»›i `/docs`

![](https://miro.medium.com/v2/resize:fit:700/1*ecPaz26WH8zyuHGyfRzCzA.png)

![](https://miro.medium.com/v2/resize:fit:700/1*yEaLYbm_pXQ2_saMDo1-HA.png)

![](https://miro.medium.com/v2/resize:fit:692/1*Q-YRWaHa4-4OD0hHYVMImw.png)

DÆ°á»›i Ä‘Ã¢y lÃ  Ä‘oáº¡n code vÃ­ dá»¥:

```tsx title="app/docs/[...slug]/page.tsx" showLineNumbers
import React from "react"

type Params = {
  params: {
    slug: string[]
  }
}

export default function SlugPage({ params: { slug } }: Params) {
  return (
    <div>
      <h1>Viewing Custom Slug Page</h1>
      <span>URL Contains: {slug.toString()} </span>
    </div>
  )
}
```

Liá»‡u chÃºng ta cÃ³ thá»ƒ sá»­a Ä‘Æ°á»£c lá»—i `404`cá»§a route `/docs` khÃ´ng ? CÃ¹ng tiáº¿p tá»¥c tá»›i pháº§n tiáº¿p theo nhÃ©.

## 6. Optional Catch-All Segments

Catch-all Segments cÃ³ thá»ƒ Ä‘Æ°á»£c Ä‘áº·t thÃ nh tÃ¹y chá»n báº±ng cÃ¡ch Ä‘Æ°a tham sá»‘ vÃ o dáº¥u ngoáº·c vuÃ´ng kÃ©p: `[[...segmentName]]`.

VÃ­ dá»¥: `/docs/[[...slug]]/page.tsx` cÅ©ng sáº½ khá»›p vá»›i `/docs`, ngoÃ i `/docs/topic`, `/docs/topic/10`.

![](https://miro.medium.com/v2/resize:fit:603/1*Ojd3eOmtkmOoQd3GBKiRAg.png)

## 7. Active Links

Báº¡n cÃ³ má»™t navigation bar vá»›i cÃ¡c menu link, lÃ m cÃ¡ch nÃ o Ä‘á»ƒ user biáº¿t Ä‘Æ°á»£c mÃ¬nh Ä‘ang view trang nÃ o á»Ÿ trÃªn mÃ n hÃ¬nh ?

Viá»‡c highlight active link giÃºp cho tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng tá»‘t hÆ¡n ráº¥t nhiá»u, dÆ°á»›i Ä‘Ã¢y lÃ  cÃ¡ch giÃºp báº¡n lÃ m Ä‘Æ°á»£c Ä‘iá»u Ä‘Ã³.

Táº¡o file `navbar.tsx` trong thÆ° má»¥c `components`, Ä‘Ã¢y lÃ  client component - do cÃ³ tÃ­nh tÆ°Æ¡ng tÃ¡c vá»›i user thÃ´ng qua menu item, hÃ£y thÃªm `use client` á»Ÿ Ä‘áº§u file.

```tsx showLineNumbers
"use client"

import React from "react"
import Link from "next/link"
import { usePathname } from "next/navigation"

type Links = {
  title: string
  url: string
}

export default function Navbar() {
  const links: Links[] = [
    {
      title: "Sign In",
      url: "/sign-in",
    },
    {
      title: "Favourite",
      url: "/favourite/1",
    },
  ]

  const pathname = usePathname()

  return (
    <div className="flex space-x-4">
      {links.map(({ title, url }: Links) => {
        const isActive = pathname.startsWith(url)

        return (
          <Link
            className={isActive ? "font-bold text-emerald-500" : "text-white"}
            key={title}
            href={url}
          >
            {title}
          </Link>
        )
      })}
    </div>
  )
}
```

Okey, á»Ÿ Ä‘oáº¡n code trÃªn, mÃ¬nh Ä‘Ã£ táº¡o ra má»™t navigation bar chá»©a 2 link cÃ³ path lÃ  `/sign-in` vÃ  `/favourite`, UI cá»§a nÃ³ nhÆ° sau:

![](https://miro.medium.com/v2/resize:fit:581/1*DwZDyIkHyN8Sm-7Hh1wCww.png)

Click link vÃ  xem nÃ³ cÃ³ gÃ¬ thay Ä‘á»•i so vá»›i cÃ¡c link cÃ²n láº¡i:

![](https://miro.medium.com/v2/resize:fit:668/1*VfvVhZXLMZ3nkLgIsCirsw.png)

VÃ  trÃªn Ä‘Ã¢y lÃ  má»™t vÃ i khÃ¡i niá»‡m trong Next.js 13+ mÃ  cÃ³ thá»ƒ báº¡n Ä‘Ã£ bá» lá»¡ ğŸ‘Œ  
Náº¿u tháº¥y bÃ i viáº¿t hay, hÃ£y cho mÃ¬nh má»™t like nhÃ© âœ…
